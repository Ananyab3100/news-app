{"ast":null,"code":"import React,{Component}from'react';import NewsItem from'./NewsItem';import Spinner from'./Spinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export class News extends Component{constructor(){console.log(\"hello I am constructor from News Component\");super();this.handlePrevClick=async()=>{console.log('prev');console.log('next');let url=\"https://newsapi.org/v2/top-headlines?country=\".concat(this.props.country,\"&category=\").concat(this.props.category,\"&apiKey=ce77274e0d7b49c1a1a2184fb491d8a8&page=\").concat(this.state.page-1,\"&pageSize=\").concat(this.props.pageSize);this.setState({loading:true});let data=await fetch(url);//console.log(data);\nlet parsedData=await data.json();//console.log(parsedData);\nthis.setState({articles:parsedData.articles,page:this.state.page-1,loading:false});};this.handleNextClick=async()=>{if(this.state.page+1>Math.ceil(this.state.totalResults/this.props.pageSize)){}else{console.log('next');let url=\"https://newsapi.org/v2/top-headlines?country=\".concat(this.props.country,\"&category=\").concat(this.props.category,\"&apiKey=ce77274e0d7b49c1a1a2184fb491d8a8&page=\").concat(this.state.page+1,\"&pageSize=\").concat(this.props.pageSize);this.setState({loading:true});let data=await fetch(url);//console.log(data);\nlet parsedData=await data.json();//console.log(parsedData);\nthis.setState({articles:parsedData.articles,page:this.state.page+1,loading:false});}};this.state={articles:[],loading:false,page:1};}async componentDidMount(){let url=\"https://newsapi.org/v2/top-headlines?country=\".concat(this.props.country,\"&category=\").concat(this.props.category,\"&apiKey=ce77274e0d7b49c1a1a2184fb491d8a8&page=1&pageSize=\").concat(this.props.pageSize);this.setState({loading:true});let data=await fetch(url);//console.log(data);\nlet parsedData=await data.json();//console.log(parsedData);\nthis.setState({articles:parsedData.articles,totalResults:parsedData.totalResults,loading:false});}render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",style:{margin:'80px'},children:/*#__PURE__*/_jsx(\"h1\",{children:\"NewsMonkey Top Headlines\"})}),this.state.loading&&/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:!this.state.loading&&this.state.articles.map(element=>{return/*#__PURE__*/_jsx(\"div\",{className:\"col md-4\",children:/*#__PURE__*/_jsx(NewsItem,{title:element.title,description:element.description,imageUrl:element.urlToImage,newsUrl:element.url,author:element.author,date:element.publishedAt,source:element.source.name})},element.url);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:this.state.page<=1,onClick:this.handlePrevClick,type:\"button\",class:\"btn btn-dark\",children:\"\\u2190 Previous\"}),/*#__PURE__*/_jsx(\"button\",{disabled:this.state.page+1>Math.ceil(this.state.totalResults/this.props.pageSize),onClick:this.handleNextClick,type:\"button\",class:\"btn btn-dark\",children:\"Next \\u2192\"})]})]});}}News.defaultProps={country:'in',pageSize:8,category:'science'};export default News;","map":{"version":3,"names":["React","Component","NewsItem","Spinner","jsx","_jsx","jsxs","_jsxs","News","constructor","console","log","handlePrevClick","url","concat","props","country","category","state","page","pageSize","setState","loading","data","fetch","parsedData","json","articles","handleNextClick","Math","ceil","totalResults","componentDidMount","render","className","children","style","margin","map","element","title","description","imageUrl","urlToImage","newsUrl","author","date","publishedAt","source","name","disabled","onClick","type","class","defaultProps"],"sources":["C:/Users/HP/OneDrive/Documents/Practice -Html,css,js/React/news-app/src/components/News.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport NewsItem from './NewsItem';\r\nimport Spinner from './Spinner';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\n\r\nexport class News extends Component {\r\n\r\n    static defaultProps = {\r\n        country : 'in',\r\n        pageSize : 8,\r\n        category : 'science'\r\n      }\r\n\r\n    static propTypes = {\r\n        country : PropTypes.string,\r\n        pageSize : PropTypes.number,\r\n        category : PropTypes.string,\r\n    }\r\n\r\n\r\n    constructor(){\r\n        console.log(\"hello I am constructor from News Component\")\r\n        super();\r\n        this.state ={\r\n            articles : [],\r\n            loading: false,\r\n            page: 1,\r\n            \r\n    }\r\n}\r\n    \r\n    async componentDidMount(){\r\n        let url =`https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=ce77274e0d7b49c1a1a2184fb491d8a8&page=1&pageSize=${this.props.pageSize}`\r\n        this.setState({loading:true});\r\n        let data = await  fetch(url);\r\n        //console.log(data);\r\n        let parsedData = await data.json();\r\n        //console.log(parsedData);\r\n        this.setState ({\r\n            articles : parsedData.articles,\r\n            totalResults : parsedData.totalResults,\r\n            loading: false,\r\n        });\r\n    }\r\n   \r\n    handlePrevClick = async() =>{\r\n    console.log('prev');\r\n    console.log('next');\r\n    let url =`https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=ce77274e0d7b49c1a1a2184fb491d8a8&page=${this.state.page - 1}&pageSize=${this.props.pageSize}`\r\n    this.setState({loading:true});\r\n    let data = await  fetch(url);\r\n    //console.log(data);\r\n    let parsedData = await data.json();\r\n    //console.log(parsedData);\r\n    this.setState ({\r\n        articles : parsedData.articles,\r\n        page : this.state.page - 1 ,\r\n        loading:false,\r\n    });\r\n\r\n    }\r\n    handleNextClick = async() =>{\r\n        if(this.state.page + 1 >Math.ceil(this.state.totalResults/this.props.pageSize)){\r\n\r\n        }\r\n        else{\r\n        console.log('next');\r\n        let url =`https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=ce77274e0d7b49c1a1a2184fb491d8a8&page=${this.state.page +1}&pageSize=${this.props.pageSize}`\r\n        this.setState({loading:true});\r\n        let data = await  fetch(url);\r\n       \r\n        //console.log(data);\r\n        let parsedData = await data.json();\r\n        //console.log(parsedData);\r\n        this.setState ({\r\n            articles : parsedData.articles,\r\n            page : this.state.page +1 ,\r\n            loading:false,\r\n        });\r\n    }\r\n    }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className ='container my-2'>\r\n        <div className='text-center' style= {{margin: '80px'}}><h1>NewsMonkey Top Headlines</h1></div>\r\n        {this.state.loading && <Spinner/>}\r\n    \r\n        <div className= 'row' >\r\n            {!this.state.loading && this.state.articles.map((element) => {\r\n                return <div className ='col md-4' key ={element.url}>\r\n                <NewsItem \r\n                title = {element.title} \r\n                description = {element.description} \r\n                imageUrl ={element.urlToImage}\r\n                newsUrl = {element.url}\r\n                author = {element.author}\r\n                date = {element.publishedAt}\r\n                source = {element.source.name}\r\n                />   \r\n                </div>\r\n                 \r\n            })\r\n            }\r\n\r\n        </div>\r\n        <div className ='container d-flex justify-content-between'>\r\n        <button disabled={this.state.page<=1} onClick={this.handlePrevClick} type=\"button\" class=\"btn btn-dark\">&larr; Previous</button>\r\n        <button disabled={this.state.page + 1 >Math.ceil(this.state.totalResults/this.props.pageSize)} onClick={this.handleNextClick} type=\"button\" class=\"btn btn-dark\">Next &rarr;</button>\r\n        </div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default News;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}